{
  "version": 3,
  "sources": ["../../svelte-proxied-store/dist/store.mjs"],
  "sourcesContent": ["const subscriberQueue = [];\n\nfunction noop () {}\n\nconst defaultHandler = {\n  get: function (internal, property) {\n    return Reflect.get(internal, property)\n  }\n};\n\nfunction proxied (handler = defaultHandler) {\n  let active = false;\n  const internal = {};\n  const proxy = new Proxy(internal, handler);\n  const subscribers = [];\n  function get (property) {\n    return Reflect.get(internal, property)\n  }\n  function assign (object) {\n    Object.assign(internal, object);\n  }\n  function deleteProperty (property) {\n    Reflect.deleteProperty(internal, property);\n  }\n  function deleteAll () {\n    for (const property of Object.getOwnPropertyNames(internal)) {\n      Reflect.deleteProperty(internal, property);\n    }\n  }\n  function emit (object) {\n    if (object) assign(object);\n    if (active) {\n      // store is active\n      const runQueue = !subscriberQueue.length;\n      for (let i = 0; i < subscribers.length; i += 1) {\n        const s = subscribers[i];\n        s[1]();\n        subscriberQueue.push(s, proxy);\n      }\n      if (runQueue) {\n        for (let i = 0; i < subscriberQueue.length; i += 2) {\n          subscriberQueue[i][0](subscriberQueue[i + 1]);\n        }\n        subscriberQueue.length = 0;\n      }\n    }\n  }\n  function subscribe (run, invalidate = noop) {\n    const subscriber = [run, invalidate];\n    subscribers.push(subscriber);\n    if (subscribers.length === 1) {\n      active = true;\n    }\n    run(proxy);\n    return () => {\n      const index = subscribers.indexOf(subscriber);\n      if (index !== -1) {\n        subscribers.splice(index, 1);\n      }\n      if (subscribers.length === 0) {\n        active = false;\n      }\n    }\n  }\n  return {\n    get,\n    assign,\n    delete: deleteProperty,\n    deleteAll,\n    deleteProperty,\n    emit,\n    subscribe\n  }\n}\n\nexport { proxied };\n"],
  "mappings": ";AAAA,IAAM,kBAAkB,CAAC;AAEzB,gBAAiB;AAAC;AAElB,IAAM,iBAAiB;AAAA,EACrB,KAAK,SAAU,UAAU,UAAU;AACjC,WAAO,QAAQ,IAAI,UAAU,QAAQ;AAAA,EACvC;AACF;AAEA,iBAAkB,UAAU,gBAAgB;AAC1C,MAAI,SAAS;AACb,QAAM,WAAW,CAAC;AAClB,QAAM,QAAQ,IAAI,MAAM,UAAU,OAAO;AACzC,QAAM,cAAc,CAAC;AACrB,eAAc,UAAU;AACtB,WAAO,QAAQ,IAAI,UAAU,QAAQ;AAAA,EACvC;AACA,kBAAiB,QAAQ;AACvB,WAAO,OAAO,UAAU,MAAM;AAAA,EAChC;AACA,0BAAyB,UAAU;AACjC,YAAQ,eAAe,UAAU,QAAQ;AAAA,EAC3C;AACA,uBAAsB;AACpB,eAAW,YAAY,OAAO,oBAAoB,QAAQ,GAAG;AAC3D,cAAQ,eAAe,UAAU,QAAQ;AAAA,IAC3C;AAAA,EACF;AACA,gBAAe,QAAQ;AACrB,QAAI;AAAQ,aAAO,MAAM;AACzB,QAAI,QAAQ;AAEV,YAAM,WAAW,CAAC,gBAAgB;AAClC,eAAS,IAAI,GAAG,IAAI,YAAY,QAAQ,KAAK,GAAG;AAC9C,cAAM,IAAI,YAAY;AACtB,UAAE,GAAG;AACL,wBAAgB,KAAK,GAAG,KAAK;AAAA,MAC/B;AACA,UAAI,UAAU;AACZ,iBAAS,IAAI,GAAG,IAAI,gBAAgB,QAAQ,KAAK,GAAG;AAClD,0BAAgB,GAAG,GAAG,gBAAgB,IAAI,EAAE;AAAA,QAC9C;AACA,wBAAgB,SAAS;AAAA,MAC3B;AAAA,IACF;AAAA,EACF;AACA,qBAAoB,KAAK,aAAa,MAAM;AAC1C,UAAM,aAAa,CAAC,KAAK,UAAU;AACnC,gBAAY,KAAK,UAAU;AAC3B,QAAI,YAAY,WAAW,GAAG;AAC5B,eAAS;AAAA,IACX;AACA,QAAI,KAAK;AACT,WAAO,MAAM;AACX,YAAM,QAAQ,YAAY,QAAQ,UAAU;AAC5C,UAAI,UAAU,IAAI;AAChB,oBAAY,OAAO,OAAO,CAAC;AAAA,MAC7B;AACA,UAAI,YAAY,WAAW,GAAG;AAC5B,iBAAS;AAAA,MACX;AAAA,IACF;AAAA,EACF;AACA,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA,QAAQ;AAAA,IACR;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACF;",
  "names": []
}
